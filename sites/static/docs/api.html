<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - Webserver API</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 40px auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        nav {
            background: #667eea;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        nav a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            margin: 0 5px;
            border-radius: 3px;
            transition: background 0.3s;
        }
        nav a:hover { background: rgba(255,255,255,0.2); }
        h1 { color: #333; margin-bottom: 20px; font-size: 2.5em; }
        h2 { color: #667eea; margin-top: 30px; margin-bottom: 15px; }
        h3 { color: #333; margin-top: 20px; margin-bottom: 10px; }
        p { color: #666; margin-bottom: 15px; }
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
        }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }
        pre code {
            background: none;
            color: #f8f8f2;
            padding: 0;
        }
        .method {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 3px;
            font-weight: bold;
            margin-right: 10px;
        }
        .get { background: #28a745; color: white; }
        .post { background: #007bff; color: white; }
        .delete { background: #dc3545; color: white; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <a href="/">Home</a>
            <a href="/about.html">About</a>
            <a href="/docs/api.html">API Docs</a>
            <a href="/files">Files</a>
        </nav>

        <h1>ðŸ“š API Documentation</h1>
        
        <h2>HTTP Methods Supported</h2>
        <p>This webserver supports the following HTTP methods:</p>
        
        <h3><span class="method get">GET</span> Retrieve Resources</h3>
        <p>Request a resource from the server. This is the most common HTTP method.</p>
        <pre><code>GET /index.html HTTP/1.1
Host: localhost:8080</code></pre>

        <h3><span class="method post">POST</span> Submit Data</h3>
        <p>Send data to the server, typically for form submissions or file uploads.</p>
        <pre><code>POST /uploads HTTP/1.1
Host: localhost:8080
Content-Type: multipart/form-data
Content-Length: 1234

[file data here]</code></pre>

        <h3><span class="method delete">DELETE</span> Remove Resources</h3>
        <p>Delete a file from the server (requires proper permissions).</p>
        <pre><code>DELETE /files/sample.txt HTTP/1.1
Host: localhost:8080</code></pre>

        <h2>Available Endpoints</h2>
        
        <table>
            <tr>
                <th>Endpoint</th>
                <th>Methods</th>
                <th>Description</th>
            </tr>
            <tr>
                <td><code>/</code></td>
                <td><span class="method get">GET</span></td>
                <td>Main index page</td>
            </tr>
            <tr>
                <td><code>/about.html</code></td>
                <td><span class="method get">GET</span></td>
                <td>About page with project info</td>
            </tr>
            <tr>
                <td><code>/contact.html</code></td>
                <td><span class="method get">GET</span></td>
                <td>Contact form (display only on port 8080)</td>
            </tr>
            <tr>
                <td><code>/files</code></td>
                <td><span class="method get">GET</span> <span class="method post">POST</span> <span class="method delete">DELETE</span></td>
                <td>File directory with autoindex</td>
            </tr>
            <tr>
                <td><code>/uploads</code></td>
                <td><span class="method get">GET</span> <span class="method post">POST</span> <span class="method delete">DELETE</span></td>
                <td>Upload directory (50MB limit)</td>
            </tr>
        </table>

        <h2>CGI Endpoints (Port 8081)</h2>
        
        <table>
            <tr>
                <th>Endpoint</th>
                <th>Interpreter</th>
                <th>Description</th>
            </tr>
            <tr>
                <td><code>/cgi-bin/*.py</code></td>
                <td>Python 3</td>
                <td>Python CGI scripts</td>
            </tr>
            <tr>
                <td><code>/php/*.php</code></td>
                <td>PHP-CGI</td>
                <td>PHP scripts</td>
            </tr>
            <tr>
                <td><code>/scripts/*.sh</code></td>
                <td>Bash</td>
                <td>Shell scripts</td>
            </tr>
        </table>

        <h2>Response Codes</h2>
        
        <table>
            <tr>
                <th>Code</th>
                <th>Status</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>200</td>
                <td>OK</td>
                <td>Request succeeded</td>
            </tr>
            <tr>
                <td>403</td>
                <td>Forbidden</td>
                <td>Access denied</td>
            </tr>
            <tr>
                <td>404</td>
                <td>Not Found</td>
                <td>Resource doesn't exist</td>
            </tr>
            <tr>
                <td>405</td>
                <td>Method Not Allowed</td>
                <td>HTTP method not supported for this endpoint</td>
            </tr>
            <tr>
                <td>408</td>
                <td>Request Timeout</td>
                <td>Client took too long to send request</td>
            </tr>
            <tr>
                <td>500</td>
                <td>Internal Server Error</td>
                <td>Server encountered an error</td>
            </tr>
        </table>

        <h2>Configuration</h2>
        <p>Server behavior is configured via <code>configuration/webserv.conf</code>. Key directives:</p>
        
        <pre><code>server {
    listen 8080;
    server_name localhost;
    root ./sites/static;
    client_max_body_size 10M;
    
    location /path {
        allowed_methods GET POST;
        autoindex on;
    }
}</code></pre>

        <h2>Testing Examples</h2>
        
        <h3>Using curl:</h3>
        <pre><code># GET request
curl http://localhost:8080/

# POST file upload
curl -X POST -F "file=@myfile.txt" http://localhost:8080/uploads

# DELETE file
curl -X DELETE http://localhost:8080/files/sample.txt

# With query parameters
curl http://localhost:8081/cgi-bin/hello.py?name=Alice</code></pre>

        <h3>Using telnet:</h3>
        <pre><code>telnet localhost 8080
GET / HTTP/1.1
Host: localhost

</code></pre>
    </div>
</body>
</html>
